#!/bin/bash

# Chance user password
echo "Do you want to change your password (y/n)"
read USER_RESPONSE
if [ "$USER_RESPONSE" = "y" ] 
  then
    echo $USER_RESPONSE
  else
    echo "Kay"
fi

# Make directories
cd ~/
mkdir git bin lib venv

# Upgrade and install packages
sudo apt-get update && sudo apt-get upgrade
sudo apt-get install zsh tmux emacs vim python3-pip python-pip python-mysqldb\
    xclip silversearcher-ag git

sudo pip3 install setuptools wheel
sudo pip3 install ipython jupyter matplotlib requests pandas beautifulsoup 
sudo pip install gcalcli parsedatetime krill

# All the gits
cd ~/git

git_urls=(
  'https://github.com/okaysolutions/dotfiles.git'
  )

for var in "${git_urls[@]}"
  do
    git clone "${var}"
  done
# Install oh-my-zsh
# I know, I know....
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

#VENV Problematic Programs
venv_programs=(
  'rainbowstream'
)

for var in "${git_urls[@]}"
  do
    mkdir $var
    cd ~/venv/$var
    virtualenv venv
    source venv/bin/activate
    pip install $var
    deactivate
  done

# Symbolic Links of configs
for x in `ls -A $HOME/git/dotfiles/configs`
  do
    if [ -a $HOME/$x ]
      then
        echo "Removing $x"
        rm -rf $HOME/$x
        ln -sf $HOME/git/dotfiles/configs/$x $HOME/
      else
        ln -sf $HOME/git/dotfiles/configs/$x $HOME/
    fi
  done
